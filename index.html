<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>AI Health Assistant</title>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Segoe UI', sans-serif; }
    body {
      background: #0f0f0f;
      color: white;
      height: 100vh;
      display: flex;
      justify-content: center;
      align-items: center;
    }

    /* ---------------- Landing Page ---------------- */
    #landing {
      text-align: center;
      animation: fadeIn 1.5s ease-in-out;
    }
    #landing h1 {
      font-size: 3em;
      margin-bottom: 20px;
      background: linear-gradient(to right, #00c6ff, #0072ff);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
    }
    #landing p {
      font-size: 1.3em;
      margin-bottom: 30px;
      color: #bbb;
    }
    #start-btn {
      padding: 15px 40px;
      font-size: 1.2em;
      border: none;
      border-radius: 50px;
      background: linear-gradient(45deg, #ff512f, #dd2476);
      color: white;
      cursor: pointer;
      transition: 0.3s;
    }
    #start-btn:hover { transform: scale(1.05); }

    /* ---------------- Chat Page ---------------- */
    #chat-page { display: none; flex-direction: column; height: 100vh; width: 100%; }
    header {
      padding: 20px;
      text-align: center;
      font-size: 1.8em;
      background: #1c1c1c;
      color: #00c6ff;
      font-weight: bold;
      border-bottom: 2px solid #222;
    }
    #chat-box {
      flex: 1;
      padding: 20px;
      overflow-y: auto;
      background: url('https://www.transparenttextures.com/patterns/black-linen.png');
    }
    .msg {
      margin: 12px 0;
      padding: 12px 18px;
      border-radius: 15px;
      max-width: 70%;
      animation: slideUp 0.4s ease-in-out;
    }
    .user { background: #0072ff; align-self: flex-end; }
    .bot { background: #333; border: 1px solid #00c6ff; align-self: flex-start; }

    #controls {
      padding: 15px;
      background: #1c1c1c;
      display: flex;
      justify-content: center;
    }
    #user-input {
      flex: 1;
      padding: 12px;
      border-radius: 25px;
      border: none;
      margin-right: 10px;
      font-size: 1em;
    }
    button {
      padding: 12px 20px;
      border: none;
      border-radius: 25px;
      font-size: 1em;
      cursor: pointer;
    }
    #send-btn { background: #ff512f; color: white; margin-right: 10px; }
    #voice-btn { background: #00c6ff; color: white; }

    /* ---------------- Animations ---------------- */
    @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
    @keyframes slideUp { from { transform: translateY(20px); opacity: 0; } to { transform: translateY(0); opacity: 1; } }
  </style>
</head>
<body>

  <!-- Landing Page -->
  <div id="landing">
    <h1>üë©‚Äç‚öïÔ∏è AI Health Assistant</h1>
    <p>Your personal AI doctor ‚Äì ask about symptoms, get instant advice, with voice support.</p>
    <button id="start-btn" onclick="startChat()">Start Consultation</button>
  </div>

  <!-- Chat Page -->
  <div id="chat-page">
    <header>AI Health Assistant</header>
    <div id="chat-box"></div>
    <div id="controls">
      <input type="text" id="user-input" placeholder="Describe your symptoms...">
      <button id="send-btn" onclick="sendMessage()">Send</button>
      <button id="voice-btn" onclick="startVoice()">üé§</button>
    </div>
  </div>

  <script>
    // ---------------- Start Chat ----------------
    function startChat(){
      document.getElementById("landing").style.display = "none";
      document.getElementById("chat-page").style.display = "flex";
    }

    // ---------------- Disease Knowledge Base ----------------
    const DISEASES = [
      { name: "Flu (Influenza)", keywords: ["fever","cough","headache","sore throat","runny nose","body ache","fatigue","chills"], advice: "Rest, warm fluids, paracetamol for fever, consult a doctor if symptoms persist >48 hrs." },
      { name: "Dengue", keywords: ["high fever","rash","eye pain","nausea","vomit","bleeding"], advice: "Drink fluids, avoid aspirin/ibuprofen, consult a doctor urgently." },
      { name: "Asthma", keywords: ["wheezing","shortness of breath","chest tightness","cough"], advice: "Use prescribed inhaler, seek emergency care if no relief." },
      { name: "Heart Issue", keywords: ["chest pain","left arm pain","jaw pain","sweating"], advice: "üö® Emergency ‚Äì seek immediate medical help." },
      { name: "COVID-19", keywords: ["loss of smell","fever","dry cough","tiredness"], advice: "Rest, hydrate, test for COVID, isolate if advised." }
    ];

    function sendMessage(){
      let input = document.getElementById("user-input").value.trim();
      if(!input) return;
      addMessage("user", input);

      let normalized = input.toLowerCase();
      let found = null;
      for (let d of DISEASES){
        for (let k of d.keywords){
          if (normalized.includes(k)) { found = d; break; }
        }
        if(found) break;
      }

      let reply = found ? `üë©‚Äç‚öïÔ∏è Based on your symptoms, you might have *${found.name}*. Advice: ${found.advice}`
                        : "üë©‚Äç‚öïÔ∏è I'm not sure. Please consult a doctor for accurate diagnosis.";

      addMessage("bot", reply);
      speak(reply);
      document.getElementById("user-input").value = "";
    }

    function addMessage(sender, text){
      let chatBox = document.getElementById("chat-box");
      let msg = document.createElement("div");
      msg.className = "msg " + sender;
      msg.innerHTML = text;
      chatBox.appendChild(msg);
      chatBox.scrollTop = chatBox.scrollHeight;
    }

    // ---------------- Voice Output ----------------
    function speak(text){
      const utter = new SpeechSynthesisUtterance(text);
      utter.voice = speechSynthesis.getVoices().find(v => v.lang === "en-US") || null;
      utter.rate = 0.95;
      speechSynthesis.cancel();
      speechSynthesis.speak(utter);
    }
    speechSynthesis.onvoiceschanged = () => {};

    // ---------------- Voice Input ----------------
    function startVoice(){
      if (!('webkitSpeechRecognition' in window)) {
        alert("Your browser does not support voice input.");
        return;
      }
      let recog = new webkitSpeechRecognition();
      recog.lang = "en-US";
      recog.onresult = function(event){
        let input = event.results[0][0].transcript;
        document.getElementById("user-input").value = input;
        sendMessage();
      };
      recog.start();
    }
  </script>
</body>
</html>
